[Home](../../) | [Projects](../../projects) | [Notes](../) > <a href="./">Problem Solving</a> > Lessons Learned

# Lessons Learned



* [*LC-263. Longest Common Prefix*] `[]` operator and `at()` of the vector container:

  For the operator `[]`, the position after the last character is valid index. It will return the value that is generated by the default constructor of the character type which is ‘`\0`’.

  However, for `at()`, the position after the last character is NOT valid. It will throw an `out_of_range` exception when it reaches that position.

  ```cpp
  strs[0].at(i);    // throws an exception when i hits the position after the last 
                    // character
  
  strs[0][i];       // returns '\0' when i reaches the position after the last
                    // character
  ```



* [*LC-263. Ugly Number*] The time complexity of dividing an integer $n$ with a specific number repeatedly until the quotient becomes 0 is $O(\log n)$.



* [*LC-94. Binary Tree Inorder Traversal*] Use helper function if necessary.



* The space needed to read in or return an instance is not included in the space complexity analysis of an algorithm; otherwise, every algorithm would have O(*n*) space complexity.



* [*LC-2. Add Two Numbers*] When adding two one-digit numbers:    
    - Sum without carry: `sum % 10` 
    - Carry: `sum / 10` 



* [*LC-1122. Relative Sort Array*] Using map to keep track of elements and their occurences in an array:
  
  ```cpp
  vector<int> v = {1, 3, 4, 2, 4, 2, 4, 4};
  
  // insert elements into the map 
  // - key  : elements of arr1
  // - value: number of occurrences
  map<int, int> m;
  for (auto n : v)
  {
      m[n]++;   // if the passed key does not exist in the map, a new element gets
                // inserted into the map automatically (the value of the new element is
                // initialized by the default constructor of its type; in this case '0')
  }
  // now map stores {1, 1}, {2, 2}, {3, 1}, {4, 4}.
  
  // print the elements in an ascending order
  for (auto n : m)
  {
      while (n.second > 0)
      {
          cout << n.first << endl;
          n.second--;
      }
  }
  ```
  Erasing a map element:
  ```cpp
  map<int, int> m;
  ...
  m.erase(key);
  ```



* If a multiset contains duplicates, you can't `erase()` to remove only the first element of these duplicates. (`erase(value)` will  erase all ocurrences of `value` in the multiset.) Instead, you can code as follows:
  ```cpp
  std::multiset<Elem> coll;
  ...
  // remove first element with passed value
  std::multiset<Elem>::iterator pos;    // or you could simply:
  pos = coll.find(value);               // auto pos = coll.find(value);
  if (pos != coll.end())
  {
      coll.erase(pos);
  }
  ```



* Insert operations of vectors
  ```plain
  c.push_back(elem);
  c.insert(pos, elem);
  c.insert(pos, n, elem);
  c.insert(pos, beg, end);
  c.insert(pos, initlist);
  ```
  Be careful about the following situation:
  ```cpp
  vector<int> v;
  
  // insert '1' at the beginning of the vector
  v.insert(0, 1);           // illegal! 
  v.insert(c.begin(), 1);   // OK!
  ```



* [*EPI-5.1. Computing the Parity of a Word*] Tips on *Bit Manipulation*
  - Clear the lowest set bit in $$x$$
      - `x & (x - 1)`
  - Extract the lowest set bit of $$x$$
      - `x & ~(x - 1)`

  [!] Application: [*LC-191-Number-of-1-Bits*]



* [*LC-88. Merge Sorted Array*] Using post-increment/decrement operators to advance indexes:

  ```cpp 
  a[i++] = b[j++];
  ```
  instead of
  ```cpp
  a[i] = b[j];
  i++;
  j++;
  ```



* [*LC-100. Same Tree*] Space complexity of recursion:
  Space complexity of recursion is always the height (or depth) of recursion. General rule of thumb is that there can be at most $$h$$ height in a tree traversal where $$h$$ is the legth of deepest node from the root.

  Space complexity of recursion $$=O(\text{depth of recursion tree})$$



* C++ bit shift operators (`>>` or `<<`) does NOT shift "in place". 
  ```cpp
  int n = 4;    // (0100)
  
  n >> 1;       // returned value will be lost and 'n' will remain as 4
  
  n >>= 1;      // n = 2 (0010)
  n <<= 1;      // n = 4 (0100)
  ```



* [*LC-160. Intersection of Two Linked Lists*] Idiom for searching in `(multi)maps`, `(multi)sets`, `unordered containers`.

  ```cpp
  if (c.find(key) != c.end())
  {
      // key is found, do someting!
  }
  ```



* [*LC-118. Pascal's Triangle*] Inserting an individual element into a 2D vector:

  ```cpp
  vector<vector<int>> v;
  v[0].push_back(1);                // ERROR since v[0] does not exist yet!
  v[0].push_back(vector<int>(5, 1); // OK (inserts {1, 1, 1, 1, 1} into v[0])
  
  vector<vector<int>> v(3);         // creates a 2D vector that contains 3 vectors
  v[0].push_back(1);                // OK (inserts '1' at the end of the vector v[0])
  ```
  When first inserting an element into a 1D vector of a 2D vector, make sure that 1D vector already exists.



* [*LC-169. Majority Element*] Sometimes using the dummy return value can be useful:    
  For example,

  ```cpp
  int majorityElement(vector<int>& nums) 
  {
      map<int, int> m;
      int ret;
  
      for (auto n : nums)
      {
          if (++m[n] > n/2)
              ret = n;
      }
  
      return ret;
  }
  ```
  Above code can be rewritten as follows using the dummy return variable:
  ```cpp
  int majorityElement(vector<int>& nums) 
  {
      map<int, int> m;
  
      for (auto n : nums)
      {
          if (++m[n] > n/2)
              return n;
      }
  
      // dummy return value (program will never reach this point since 
      // - 'nums' has at least one element
      // - the 'majority element' always exists in 'nums'
      return -1;
  }
  ```
  This can be useful when all the possible return case exists in the loop.

  [!] Note: Notice how you can insert elements into the map and increase their counters.

  

* [*LC-202. Happy Number*] Idiom for summing up each digit of a number `n`:
  ```cpp
  int sum = 0;
  
  while (n > 0)
  {
      sum += n % 10;
      n /= 10;
  }
  ```
  At the termination of this `while` loop, `sum` will contain the sum of each digit of the number `n`.



* [*LC-225. Implement Stack Using Queues*] `pop` operation of the C++ STL `Queue` container does NOT return the value.
  To do something with the popped value, `top` operation has to be used first to store the value to be popped.

  The core interface of the C++ STL `Queue`:
  ```plain
  Interface         Effect
  ================  ======================================================================
  push()            Inserts an element into the queue
  front()           Returns the next element in the queue without removing it (the element
                    that was inserted first)
  back()            Returns the last element in the queue without removing it (the element
                    that was inserted last)
  pop()             Removes an element from the queue (does not return it)
  size()            Returns the current number of elements
  empty()           Returns whether the queue is empty (equivalent to size()==0)
  ```



* To flip all the bits of a binary number, `XOR` the number with the sequence of `1`s of the same length. `XOR` is simply an addition of binary digits without carry.

  ```cpp
  int n = 6;    // 0110(2)
  n ^= 15;      // now n contains 9 which is 1001(2)
  // or
  n ^= 0xF;
  ```



* [*LC-205. Isomorphic Strings*] Declaring vector with initial size and values:
  ```cpp
  vector<int> v(256, -1);   // reserve 256 elements initialized to '-1'
  ```



* Don't be confused about the `iterator` used in a `for` loop.
  Following is a silly mistake I made under the stressful condition that wasted much of my time.

  ```cpp
  for (auto pos = c.begin(); pos < c.end(); ++pos) { }	// WRONG!
  //                             ^
  
  for (auto pos = c.begin(); pos != c.end(); ++pos) { }	// OK!
  //                             ^
  ```
  `<` or `>` are NOT overloaded for iterators.



* Iterate over the elements of a `map<char, int>` using the range-based `for` loop:
  ```cpp
  map<char, int> m;
  
  for (auto elem : m)   // here the type of 'elem' is pair<char, int>
      cout << m.first << ", " << m.second << endl;
  
  // following will not work!
  for (char elem : m)   // elem's type mis-match
      ...
  ```



* Using `substr()` to tokenize a string that contains space delmited words:
  ```cpp
  string name = "";
  string year = "";
  string s = "KyungjaeLee 1988"
  
  name = s.substr(0, s.find(' '));  // name contains "KyungjaeLee"
  year = s.substr(s.find(' ') + 1); // name contains "1988"
  ```



* `c.clear()` empties the container where `c` can be `vector`, `set`, `multiset`, `map`,`multimap`, or any `unordered containers`.



* `erase()` allows differnt parameter sets. Be sure to understand their usages.

  **Vector:**

  ```plain
  Operation                 Effect
  ========================  ==============================================================
  c.erase(pos)              Removes the element at iterator position pos and returns the
                            position of the next element
  c.erase(beg, end)         Removes elements of the range [beg, end) and returns the
                            position of the next element
  ```
  **Set/Multiset, Map/Multimap, Unordered Containers:**

  ```plain
  Operation                 Effect
  ========================  ==============================================================
  c.erase(val)              Removes all elements equal to val and returns the number of
                            removed elements
  c.erase(pos)              Removes the element at iterator position pos and returns the
                            following position (returned nothing before C++11)
  c.erase(beg, end)         Removes all elements of the range [beg, end) and returns the
                            following position (returned nothing before C++11)
  ```



* [*LC-228. Summary Ranges*] Consecutive string concatenation
  ```cpp
  string s1 = "abc";
  string s2 = "ghi";
  string s3 = s1 + "def" + s2;  // s3 will be "abcdefghi"
  ```

